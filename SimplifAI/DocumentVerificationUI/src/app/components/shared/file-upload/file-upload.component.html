<div class="file-upload-container">
  <div 
    class="drop-zone"
    [class.drag-over]="isDragOver"
    [class.disabled]="disabled"
    [class.has-file]="currentFile || previewUrl"
    (dragover)="onDragOver($event)"
    (dragleave)="onDragLeave($event)"
    (drop)="onDrop($event)"
    (click)="openFileDialog()">
    
    <!-- File Input -->
    <input 
      #fileInput
      type="file"
      [accept]="acceptedTypes"
      [disabled]="disabled"
      (change)="onFileInputChange($event)"
      style="display: none;">
    
    <!-- Upload Area -->
    <div class="upload-area" *ngIf="!currentFile && !previewUrl && !isUploading">
      <div class="upload-icon">üìÅ</div>
      <div class="upload-text">
        <p class="primary-text">Drop your {{ documentType }} here</p>
        <p class="secondary-text">or <span class="browse-link">browse files</span></p>
        <p class="file-info">Accepted: {{ acceptedTypes }} (max {{ maxSizeInMB }}MB)</p>
      </div>
    </div>
    
    <!-- Upload Progress -->
    <div class="upload-progress" *ngIf="isUploading">
      <div class="progress-icon">‚è≥</div>
      <div class="progress-info">
        <p class="progress-text">Uploading...</p>
        <div class="progress-bar">
          <div class="progress-fill" [style.width.%]="uploadProgress"></div>
        </div>
        <p class="progress-percentage">{{ uploadProgress }}%</p>
      </div>
    </div>
    
    <!-- File Preview -->
    <div class="file-preview" *ngIf="(currentFile || previewUrl) && !isUploading">
      <div class="preview-content">
        <!-- Image Preview -->
        <div class="image-preview" *ngIf="previewUrl">
          <img [src]="previewUrl" [alt]="currentFile?.name || 'Preview'">
        </div>
        
        <!-- File Info -->
        <div class="file-info-section">
          <div class="file-icon">{{ getFileIcon(currentFile?.name || '') }}</div>
          <div class="file-details">
            <p class="file-name">{{ currentFile?.name }}</p>
            <p class="file-size">{{ (currentFile?.size || 0) / 1024 / 1024 | number:'1.1-1' }} MB</p>
          </div>
        </div>
      </div>
      
      <!-- Remove Button -->
      <button 
        type="button" 
        class="remove-btn"
        (click)="removeFile(); $event.stopPropagation()"
        [disabled]="disabled">
        ‚úï
      </button>
    </div>
  </div>
</div>